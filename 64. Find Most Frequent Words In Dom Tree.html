<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find Most Frequent Words In Dom Tree</title>
</head>

<body>
    <div id="root">
        <p>This a paragraph</p>
        <div>
            <span>This is some text.</span>
            <p>Another paragraph here.</p>
        </div>
        <p>This is another paragraph</p>
    </div>

    <script>
        function findMostFrequentWordsInDomTree(root, limit) {
            const textMap = {};

            const wordList = root.textContent.split(' ').map(word => {
                // get rid of spaces
                word = word.replace(' ', '');

                // get rid of periods
                word = word.replace('.', '');

                // get rid of new lines
                word = word.replace('\n', '');

                // lowercase everything
                word = word.toLowerCase();

                if (word.length) {
                    if (!textMap[word]) textMap[word] = 0;
                    textMap[word]++;
                }
            });

            const keys = Object.keys(textMap);
            keys.sort((a, b) => {
                return textMap[b] - textMap[a];
            });
            return keys.splice(0, limit);
        }

        const tree = document.getElementById('root');
        console.log(findMostFrequentWordsInDomTree(tree, 3));

    </script>
</body>

</html>